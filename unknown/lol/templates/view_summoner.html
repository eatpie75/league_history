<!DOCTYPE html>{% load url from future %}{% load humanize %}{% load get_percent to_k_format %}
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>index</title>
		<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		<link href="{{STATIC_URL}}css/bootstrap.css" rel="stylesheet" type="text/css">
		{# <link href="{{STATIC_URL}}css/main.css" rel="stylesheet" type="text/css"> #}
		<link href="{{STATIC_URL}}less/main.less" rel="stylesheet/less" type="text/css">
		<script src="{{STATIC_URL}}js/less.js" type="text/javascript"></script>
		<link href="{{STATIC_URL}}css/sprites.css" rel="stylesheet" type="text/css">
		<script src="{{STATIC_URL}}js/jquery.js" type="text/javascript"></script>
		<script src="{{STATIC_URL}}js/bootstrap.js" type="text/javascript"></script>
		<script src="{{STATIC_URL}}js/items.js" type="text/javascript"></script>
		<script type="text/javascript">
			var account_id={{summoner.account_id}};
		</script>
	</head>
	<body>
		<div class='container'>
			<div class='summoner-header row span12' style='background-image:url({{STATIC_URL}}img/champion-backgrounds/{{stats.by_count|first|first}}.png)'>
				<div class='pull-left sprite sprite-profile-{{summoner.profile_icon}}'></div>
				<span class='info-block pull-right'>
					<div>
						<h1>{{summoner.level}}</h1>
						<small>LEVEL</small>
					</div>
					<div>
						<h1>{% if rating.current_rating > 1200 %}{{rating.current_rating}}{% else %}?{% endif %}</h1>
						<small>ELO</small>
					</div>
					<div>
						<h1>{{games.count}}</h1>
						<small>GAMES</small>
					</div>
				</span>
				<div class='name-block'>
					<h1>{{summoner.name}}</h1>
				</div>
				<div class='bottom-right'>
					<small>LAST UPDATED:{{summoner.time_updated|naturaltime|upper}}</small>
				</div>
				<ul class='mynav mynav-tabs'>
					<li class='active'><a href='{% url "view_summoner" summoner.get_region_display summoner.account_id summoner.name|slugify %}'>OVERVIEW</a></li>
					<li><a href='{% url "view_summoner_games" summoner.get_region_display summoner.account_id summoner.name|slugify %}'>GAMES</a></li>
					<li><a href='{% url "view_summoner_champions" summoner.get_region_display summoner.account_id summoner.name|slugify %}'>CHAMPIONS</a></li>
				</ul>
			</div>
			<div class='row span12'>
				<div class='span9' id='games'>
					<table class='game-list table table-condensed'>
						<thead>
							<tr>
								<th style='width:40px;'></th>
								<th style='width:50px'>K/D/A</th>
								<th style='width:50px'>CS</th>
								<th style='width:50px'>Gold</th>
								<th style='width:85px;'>Spells</th>
								<th style='width:215px;'>Items</th>
								<th style='width:50px;'>Date</th>
								<th style='width:10px;'></th>
							</tr>
						</thead>
						<tbody>{% for player in games|slice:':10' %}
							<tr class='{% if player.won %}good{% else %}bad{% endif %}'>
								<td class='champion'><div class='sprite sprite-champions-small-{{player.champion_id}}'></div><small>{{player.champion_level}}</small></td>
								<td>{{player.kills}}/{{player.deaths}}/{{player.assists}}</td>
								<td>{{player.minion_kills|add:player.neutral_minions_killed}}</td>
								<td>{{player.gold|to_k_format}}</td>
								<td><div class='sprite sprite-summoner-small-{{player.summoner_spell1}}' style='margin-right:4px;'></div><div class='sprite sprite-summoner-small-{{player.summoner_spell2}}'></div></td>
								<td>{% for item in player.get_items %}
									<div class='item sprite sprite-items-small-{{item}}' data-item="_{{item}}"></div>{% endfor %}
								</td>
								<td>{{player.game.time|date:'M d'}}
								<td><a href='{% url 'view_game' player.game.get_region_display player.game.game_id %}'>&raquo;</a></td>
							</tr>{% endfor %}
						</tbody>
					</table>
				</div>
				<div class='best-champions span3 pull-right'>
					<div class='header'>
						<strong>Best Champions</strong>
					</div>
					{% for champion in stats.best_ratio|slice:':3' %}<div class='champion'>
						<div class='sprite sprite-champions-{{champion.0}}'></div><div class='vert-bar'><div class='red' style='height:{{champion.1.lost|get_percent:champion.1.count}};'></div></div>
						<div class='stats pull-right'>
							<small>GAMES:</small><b>{{champion.1.count}}</b><br>
							<small>WINS:</small><b>{{champion.1.won}}</b><br>
							<small>LOSSES:</small><b>{{champion.1.lost}}</b>
						</div>
					</div>{% endfor %}
				</div>
			</div>
			<div class='row span12'>{% for champion in stats.most_played|slice:':5' %}
				<div class='wat'>
					<div class='sprite sprite-champions-{{champion.0}}'></div><div class='vert-bar'><div class='red' style='height:{{champion.1.lost|get_percent:champion.1.count}};'></div></div>
				</div>
			{% endfor %}</div>
			<br>
			<div class='hori-bar purple' title='magic'><div class='red' style='width:10%;' title='physical'></div></div>
			{% comment %}{{stats.by_count|pprint}}{% endcomment %}
		</div>
	</body>
</html>
